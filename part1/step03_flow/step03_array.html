<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>array</title>
</head>
<body>
	<script>
		// array : 배열, 일반적인 리터럴 데이터를 효율적으로 관리하기 위한 객체
		// 생성 : [요소1, 요소2, 요소3]

		let jsArray1 = [1,2,3,4,5];
		let jsArray2 = ["html","css","javascript"];

        console.log(jsArray1);
        console.log(jsArray2);

        //조회 : 배열 이름[index]
		console.log(jsArray2[1]);
        //배열의 길이 : 배열이름.length

		let countries = ["ROK","CHINA", "JAPAN"];

        for (let country of countries ){
            console.log(country);
        }

        //정통 for 문
		for(let num = 0; num < countries.length; num++){
            console.log(countries[num]);
		}

        let nums = [1,2,3,4,5];
        //추가
		nums.push(6);
        nums.unshift(0);

        for (let num of nums){
            console.log(num);
        }

        //삭제
		nums.pop();
        console.log(nums);

        //가운데 있는 값들의 추가, 변경, 삭제
		// let numbers = nums.splice(2);
        // console.log(nums);
        // console.log(numbers);

		//2번부터 2개 삭제(0베이스)
        // nums.splice(2,2);
        // console.log(nums);

		//2번 부터 1개를 삭제하고 그자리에 1을 추가
		//
        // nums.splice(2,1,1);
        console.log(nums);

        //2번부터 2개를 삭제하고 그자리에 1, 2를 추가
        // nums.splice(2,2,1,2);

        //2번부터 0개를 삭제하고 그자리에 1을 추가
        // nums.splice(2,0,1);

		//slice : 원본 배열에는 영향을 주지 않고, 2번부터 끝까지 추출
        console.log(nums.slice(2));

        // indexOf : 해당 요소의 인덱스 값을 추출
		// -1 : 해당 요소는 배열에 존재하지 않음
		console.log(nums.indexOf(3));

        // join : 내부 요소를 하나의 문자열 값으로 출력하고자 할떄 표현하는 기능
		console.log(nums.join());
        console.log(nums.join(' '));

        console.log('--------------------------------')
        //find : 테스트 함수의 조건에 맞는 첫번째 요소 값을 반환
		let numbers = [1,2,3,4,5];
        let even = numbers.find((item) => item%2 === 0);
        console.log(even);

        let cats = [
            {name : '마일로', age : 10},
            {name : '앙꼬', age : 11},
            {name : '포우', age : 12},
            {name : '포우2', age : 6}
        ];

        // cats 객체 어떤 타입? object -> array

		//find로 age가 10살 이하인 고양이만 검색
		console.log(cats.find((item) => item.age <= 10));
        //filter : 조건에 맞는 요소들을 추려 새로운 배열 객체로 반환
		console.log(cats.filter((cat) => cat.age <= 10));

        //ex
		const todos = [
            {
                id : 1,
	            todo : '자격증 공부',
	            done : false
            },
            {
                id : 2,
                todo : '토이 프로젝트',
                done : true
            },
            {
                id : 3,
                todo : '미완성 개인 프로젝트',
                done : false
            },
            {
                id : 4,
                todo : '여행',
                done : false
            },
            {
                id : 5,
                todo : '알고리즘 문제 풀기',
                done : true
            }
		];

        // todos에서 끝낸 일만 출력하려면?

		console.log(todos.filter(todo => todo.done === true));

        //numbers
		//foreach : 배열 내부의 요소를 하나하나 반복을 통해 접근하는 기능
		let sum = 0;
		numbers.forEach((item) => sum += item);
        console.log(sum);

        //map
		let sum2 = 0;
		numbers.map(num => sum2 += num);
        console.log(sum2);

        let newArray = numbers.map(number => number + 10);
        console.log(newArray);

        //foreach를 통해 map과 같은 결과를 얻으려면?
		let forEachArray = [];
        numbers.forEach(number => forEachArray.push(number + 10));

        console.log(forEachArray);

        //reduce

		let reduceArray = [1,2,3,4,5];
        // reduceArray.reduce(function (accumulator, currentValue, currentIndex, array){
        let result = reduceArray.reduce(function (accumulator, currentValue){
            console.log(accumulator, currentValue);
	        // console.log('accumulator : ' + accumulator);
	        // console.log('currentValue : ' + currentValue);
	        // console.log('currentIndex : ' + currentIndex);
	        // console.log('array : ' + array);

	        return accumulator + currentValue;
        });

        console.log(result);

		let items = [
            {
                name : 'ice cream',
	            price : 2000
            },
            {
                name : 'snack',
	            price : 1500
            },
            {
              name : 'macaron',
	          price : 1700
            }
		];
        //3가지 item의 price 총 합을 구하시오
		let totalPrice = 0;
		items.forEach(item => totalPrice += item.price);
        console.log(totalPrice);
        //reduce로
		totalPrice = 0;

        let result1;

        totalPrice = items.reduce(function (accumulator, currentValue, currentIndex){
            // console.log(accumulator.price);
            // console.log(currentValue.price);
            // console.log(accumulator.price + currentValue.price);

			if(currentIndex === 1) {
                result1 = accumulator.price + currentValue.price;
            }else{
                result1 += currentValue.price;
			}

            return result1;
		})

        console.log('total ' + totalPrice);

        // totalPrice = items.reduce((totalPrice, item) => totalPrice + item.price, 0);
	</script>
</body>
</html>